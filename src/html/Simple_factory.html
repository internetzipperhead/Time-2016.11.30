<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>阿森纳—兵工厂</title>
    <link rel="stylesheet" href="../lib/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="../css/index.css"/>
    <link rel="stylesheet" href="../css/oop.css"/>
</head>
<body>
    <script src="../lib/jquery-1.12.1.min.js"></script>
    <script src="../js/Interface.js"></script>
    <script>

        var ICar = new Interface("ICar",["assemble","wash","run"]);

        var Car = function(){};
        Car.prototype = {
            assemble: function(){
                alert("小轿车组装中");
            },
            wash: function(){
                alert("小轿车清洗中");
            },
            run: function(){
                alert("小轿车行驶中");
            }
        };

        var Truck  = function(){};
        Truck.prototype = {
            assemble: function(){
                alert("大卡车组装中");
            },
            wash: function(){
                alert("大卡车清洗中");
            },
            run: function(){
                alert("大卡车行驶中");
            }
        };

        //还可以创建自己的一个命名空间，防止变量污染
        var LeeXing = {};
        LeeXing.CarFactory = {};

        //创建一个单例，将创建汽车的方法剥离出来
        var CarFactory = {
            createCar: function(model){
                var car;
                switch(model){
                    case "car":
                        car = new Car();
                        break;
                    case "truck":
                        car = new Truck();
                        break;
                }
                Interface.checkImplements(car, ICar);
                return car;
            }
        };

        var CarShop = function(){};
        CarShop.prototype = {
            sellCar: function(model){
                var car = CarFactory.createCar(model);

                car.assemble();
                car.wash();
                return car;
            }
        };
        var c = new CarShop().sellCar("truck");
        console.log(c);
        c.run();

    </script>
</body>
</html>